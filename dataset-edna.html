<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 dataset-edna | Darwin Core Guide</title>
  <meta name="description" content="Scaling multiple dimensions of diversity in biological data" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 dataset-edna | Darwin Core Guide" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Scaling multiple dimensions of diversity in biological data" />
  <meta name="github-repo" content="ioos/bio_data_guide" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 dataset-edna | Darwin Core Guide" />
  
  <meta name="twitter:description" content="Scaling multiple dimensions of diversity in biological data" />
  

<meta name="author" content="Standardizing Marine Biological Data Working Group" />


<meta name="date" content="2022-06-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="applications.html"/>
<link rel="next" href="dealing-with-errors.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Darwin Core Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>2</b> Applications</a>
<ul>
<li class="chapter" data-level="2.1" data-path="applications.html"><a href="applications.html#aligning-data-to-darwin-core---event-core-with-extended-measurement-or-fact"><i class="fa fa-check"></i><b>2.1</b> Aligning Data to Darwin Core - Event Core with Extended Measurement or Fact</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="applications.html"><a href="applications.html#general-information-about-this-notebook"><i class="fa fa-check"></i><b>2.1.1</b> General information about this notebook</a></li>
<li class="chapter" data-level="2.1.2" data-path="applications.html"><a href="applications.html#event-file"><i class="fa fa-check"></i><b>2.1.2</b> Event file</a></li>
<li class="chapter" data-level="2.1.3" data-path="applications.html"><a href="applications.html#occurrence-file"><i class="fa fa-check"></i><b>2.1.3</b> Occurrence file</a></li>
<li class="chapter" data-level="2.1.4" data-path="applications.html"><a href="applications.html#extended-measurement-or-fact-extension-file"><i class="fa fa-check"></i><b>2.1.4</b> Extended Measurement or Fact extension file</a></li>
<li class="chapter" data-level="2.1.5" data-path="applications.html"><a href="applications.html#cleaning-up-event-and-occurrence-files"><i class="fa fa-check"></i><b>2.1.5</b> Cleaning up Event and Occurrence files</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="applications.html"><a href="applications.html#salmon-ocean-ecology-data"><i class="fa fa-check"></i><b>2.2</b> Salmon Ocean Ecology Data</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="applications.html"><a href="applications.html#intro-1"><i class="fa fa-check"></i><b>2.2.1</b> Intro</a></li>
<li class="chapter" data-level="2.2.2" data-path="applications.html"><a href="applications.html#event"><i class="fa fa-check"></i><b>2.2.2</b> event</a></li>
<li class="chapter" data-level="2.2.3" data-path="applications.html"><a href="applications.html#occurrence"><i class="fa fa-check"></i><b>2.2.3</b> occurrence</a></li>
<li class="chapter" data-level="2.2.4" data-path="applications.html"><a href="applications.html#measurementorfact"><i class="fa fa-check"></i><b>2.2.4</b> measurementOrFact</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="applications.html"><a href="applications.html#hakai-seagrass"><i class="fa fa-check"></i><b>2.3</b> Hakai Seagrass</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="applications.html"><a href="applications.html#setup"><i class="fa fa-check"></i><b>2.3.1</b> Setup</a></li>
<li class="chapter" data-level="2.3.2" data-path="applications.html"><a href="applications.html#convert-data-to-darwin-core---extended-measurement-or-fact-format"><i class="fa fa-check"></i><b>2.3.2</b> Convert Data to Darwin Core - Extended Measurement or Fact format</a></li>
<li class="chapter" data-level="2.3.3" data-path="applications.html"><a href="applications.html#session-info"><i class="fa fa-check"></i><b>2.3.3</b> Session Info</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="applications.html"><a href="applications.html#trawl-data"><i class="fa fa-check"></i><b>2.4</b> Trawl Data</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="applications.html"><a href="applications.html#workflow-overview"><i class="fa fa-check"></i><b>2.4.1</b> Workflow Overview</a></li>
<li class="chapter" data-level="2.4.2" data-path="applications.html"><a href="applications.html#faq"><i class="fa fa-check"></i><b>2.4.2</b> FAQ</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataset-edna.html"><a href="dataset-edna.html"><i class="fa fa-check"></i><b>3</b> dataset-edna</a>
<ul>
<li class="chapter" data-level="3.1" data-path="dataset-edna.html"><a href="dataset-edna.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="dataset-edna.html"><a href="dataset-edna.html#published-data"><i class="fa fa-check"></i><b>3.2</b> Published data</a></li>
<li class="chapter" data-level="3.3" data-path="dataset-edna.html"><a href="dataset-edna.html#repo-structure"><i class="fa fa-check"></i><b>3.3</b> Repo structure</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dealing-with-errors.html"><a href="dealing-with-errors.html"><i class="fa fa-check"></i><b>4</b> Dealing with errors</a>
<ul>
<li class="chapter" data-level="4.1" data-path="dealing-with-errors.html"><a href="dealing-with-errors.html#example-using-github-to-resolve-errors"><i class="fa fa-check"></i><b>4.1</b> Example using GitHub to resolve errors</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html"><i class="fa fa-check"></i><b>5</b> Frequently Asked Questions</a></li>
<li class="chapter" data-level="6" data-path="tools.html"><a href="tools.html"><i class="fa fa-check"></i><b>6</b> Tools</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tools.html"><a href="tools.html#r"><i class="fa fa-check"></i><b>6.1</b> R</a></li>
<li class="chapter" data-level="6.2" data-path="tools.html"><a href="tools.html#python"><i class="fa fa-check"></i><b>6.2</b> Python</a></li>
<li class="chapter" data-level="6.3" data-path="tools.html"><a href="tools.html#google-sheets"><i class="fa fa-check"></i><b>6.3</b> Google Sheets</a></li>
<li class="chapter" data-level="6.4" data-path="tools.html"><a href="tools.html#validators"><i class="fa fa-check"></i><b>6.4</b> Validators</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="extras.html"><a href="extras.html"><i class="fa fa-check"></i><b>7</b> Extras</a>
<ul>
<li class="chapter" data-level="7.1" data-path="extras.html"><a href="extras.html#ecological-metadata-language-eml"><i class="fa fa-check"></i><b>7.1</b> Ecological Metadata Language (EML)</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Darwin Core Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dataset-edna" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> dataset-edna<a href="dataset-edna.html#dataset-edna" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>By <a href="https://github.com/dianalg">Diana LaScala-Gruenewald</a></p>
<p><a href="https://mybinder.org/v2/gh/iobis/dataset-edna/HEAD?labpath=src%2Fconversion_code.ipynb"><img src="https://mybinder.org/badge_logo.svg" alt="Binder" /></a></p>
<div id="introduction" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Introduction<a href="dataset-edna.html#introduction" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Rationale:</strong></p>
<p>DNA derived data are increasingly being used to document taxon
occurrences. To ensure these data are useful to the broadest possible
community, <a href="https://www.gbif.org/">GBIF</a> published a guide entitled “<a href="https://docs.gbif-uat.org/publishing-dna-derived-data/1.0/en/">Publishing DNA-derived
data through biodiversity data platforms</a>.”
This guide is supported by the <a href="https://tools.gbif.org/dwca-validator/extension.do?id=http://rs.gbif.org/terms/1.0/DNADerivedData">DNA derived data extension</a>
for <a href="https://dwc.tdwg.org/">Darwin Core</a>, which incorporates <a href="https://gensc.org/mixs/">MIxS</a>
terms into the Darwin Core standard.</p>
<p>This use case draws on both the guide and the extension to illustrate
how to incorporate a DNA derived data extension file into a Darwin Core
archive.</p>
<p>For further information on this use case and the DNA Derived data extension
in general, see the recording of the <a href="https://obis.org/2021/10/13/gendatawebinar/">OBIS Webinar on Genetic Data</a>.</p>
<p><strong>Project abstract:</strong></p>
<p>The example data employed in this use case are from marine
filtered seawater samples collected at a nearshore station in
Monterey Bay, California, USA. They were collected by CTD
rosette and filtered by a peristaltic pump system. Subsequently,
they underwent metabarcoding for the 18S V9 region. The resulting
ASVs, their assigned taxonomy, and the metadata associated with their
collection are the input data for the conversion scripts
presented here.</p>
<p>A selection of samples from this collection were included in the
publication “<a href="https://www.nature.com/articles/s41467-019-14105-1">Environmental DNA reveals seasonal shifts and potential
interactions in a marine community</a>”
which was published with open access in <em>Nature Communications</em> in 2020.</p>
<p><strong>Contacts:</strong>
- Francisco Chavez - Principle Investigator (<a href="chfr@mbari.org">chfr@mbari.org</a>)
- Kathleen Pitz - Research Associate (<a href="kpitz@mbari.org">kpitz@mbari.org</a>)
- Diana LaScala-Gruenewald - Point of Contact (<a href="dianalg@mbari.org">dianalg@mbari.org</a>)</p>
</div>
<div id="published-data" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Published data<a href="dataset-edna.html#published-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><a href="https://www.gbif.org/dataset/e0b59ee7-19ae-4eb0-9217-33317fb50d47">GBIF</a></li>
<li><a href="https://obis.org/dataset/62b97724-da17-4ca7-9b26-b2a22aeaab51">OBIS</a></li>
</ul>
</div>
<div id="repo-structure" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Repo structure<a href="dataset-edna.html#repo-structure" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<pre><code>.
+-- README.md                   :Description of this repository
+-- LICENSE                     :Repository license
+-- .gitignore                  :Files and directories to be ignored by git
+-- environment.yml             :Conda environment configuration file for Binder
|
+-- raw
|   +-- asv_table.csv           :Source data containing ASV sequences and number of reads
|   +-- taxa_table.csv          :Source data containing taxon matches for each ASV
|   +-- metadata_table.csv      :Source data containing metadata about samples (e.g. collection information)
|
+-- src
|   +-- conversion_code.py      :Darwin Core mapping script
|   +-- conversion_code.ipynb   :Darwin Core mapping Jupyter Notebook
|   +-- WoRMS.py                :Functions for querying the World Register of Marine Species
|
+-- processed
|   +-- occurrence.csv          :Occurrence file, generated by conversion_code
|   +-- dna_extension.csv       :DNA Derived Data Extension file, generated by conversion_code
</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="applications.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dealing-with-errors.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ioos/bio_data_guide/edit/main/bio-data-guide/02-application.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ioos/bio_data_guide/blob/main/bio-data-guide/02-application.Rmd",
"text": null
},
"download": ["darwin-core-guide.pdf", "darwin-core-guide.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"info": false
});
});
</script>

</body>

</html>
